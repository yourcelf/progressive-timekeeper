doctype 5
html(lang="en")
  head
    title= title
    !=css('style')
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')

  body
    div#main
      div#app

    script(type='text/template', id='editCategory')
      | <input type='text' name='category' value='<%= category %>' />

    script(type='text/template', id='showCategory')
      | <a href='#' class='activate cta <%= active ? "cta-red": "cta-green" %>'><span class='category'><%= category %></span>: <span class='elapsed'><%= elapsed %></span></a>

    script(type='text/template', id='settings')
      | <h2>Categories:</h2>
      | <div class='categorylist'></div>
      | <div id='footer'>
      |   <a href='#' class='cancel'>Cancel</a>
      |   <a href='#' class='save cta cta-yellow'>Save</a>
      | </div>
    script(type='text/template', id='timekeeper')
      | <div class='clock'></div>
      | <div class='meeting-start'></div>
      | <div class='categorylist'></div>
      | <div id='footer'>
      |   <a href='#' class='settings cta cta-yellow'>settings</a>
      |   <a href='#' class='graph cta cta-yellow'>graph</a>
      |   <a href='#' class='about cta cta-yellow'>about</a>
      |   <a href='#' class='reset cta cta-yellow'>reset times</a>
      | </div>
    script(type='text/template', id='graph')
      | <div class='graphview'>
      | <div class='graph'>
      |   <div class='labels'></div>
      |   <div class='lines'></div>
      | </div>
      | <div id='footer'>
      |   <a href='#' class='back cta cta-yellow'>Back</a>
      |   <a href='#' class='export cta cta-yellow'>export data</a>
      | </div>
      | </div>
    script(type='text/template', id='export')
      | <p>
      |   The progressive timekeeper stores data locally in your browser &ndash;
      |   it is never sent to any server.  If you'd like to use the data in
      |   another context, you can copy and paste the JSON format data below.
      | </p>
      | <p>
      |   Elapsed times are in milliseconds, and time series are unix
      |   timestamps.
      | </p>
      | <div class='export'>
      |   <%| exportJSON %>
      | </div>
      | <div id='footer'>
      |   <a href='#' class='back cta cta-yellow'>Back</a>
      | </div>
    script(type='text/template', id='about')
      | <div class='about'>
      |   <h1>Progressive Timekeeper</h1>
      |   <p>
      |   This is a simple application with for "progressive timekeeping"
      |   &ndash; keeping track of speaking time by categories of identity
      |   (e.g. sex, gender, racial identity, power position, etc).  It can be
      |   used to help people think about whether speaking time in their
      |   organization's meetings is really equitable.
      |   </p>
      |   <p>
      |   To use, set up the categories you'd like to track in the <a
      |   href='#settings'>settings</a>.  Then, press the button when someone
      |   identifying with that category speaks, and press it again when they
      |   finish.  Multiple categories can be activated at once.  This app can
      |   run on a phone or laptop, and could be part of the role of a
      |   timekeeper, alongside facilitators or stack keepers.
      |   </p>
      |   <p>
      |   Please send feedback, suggestions, or ideas to 
      |   <a href='mailto:cfd@media.mit.edu'>cfd@media.mit.edu</a> 
      |   or <a href='http://twitter.com/cdetar'>@cdetar</a>.
      |   </p>
      |   <p>
      |   Source code <a
      |   href='https://github.com/yourcelf/progressive-timekeeper'>freely
      |   available on github</a>.
      |   </p>
      | </div>
      | <div id='footer'>
      |   <a href='#' class='back cta cta-yellow'>Back</a>
      | </div>

    != js('frontend')
